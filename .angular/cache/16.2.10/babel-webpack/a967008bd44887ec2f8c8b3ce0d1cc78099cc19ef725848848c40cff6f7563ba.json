{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n// in compliance with the License. You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software distributed under the License\n// is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n// or implied. See the License for the specific language governing permissions and limitations under\n// the License.\n\nvar _fs = require('fs');\nvar _fs2 = _interopRequireDefault(_fs);\nvar _http = require('http');\nvar _http2 = _interopRequireDefault(_http);\nvar _https = require('https');\nvar _https2 = _interopRequireDefault(_https);\nvar _path = require('path');\nvar _path2 = _interopRequireDefault(_path);\nvar _url = require('url');\nvar URL = _interopRequireWildcard(_url);\nvar _thriftrw = require('thriftrw');\nvar _logger = require('../logger.js');\nvar _logger2 = _interopRequireDefault(_logger);\nvar _sender_utils = require('./sender_utils.js');\nvar _sender_utils2 = _interopRequireDefault(_sender_utils);\nvar _thrift = require('../thrift.js');\nvar _thrift2 = _interopRequireDefault(_thrift);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar DEFAULT_PATH = '/api/traces';\nvar DEFAULT_PORT = 14268;\nvar DEFAULT_TIMEOUT_MS = 5000;\nvar DEFAULT_MAX_SPAN_BATCH_SIZE = 100;\nvar HTTPSender = function () {\n  function HTTPSender() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, HTTPSender);\n    this._url = URL.parse(options.endpoint);\n    this._username = options.username;\n    this._password = options.password;\n    this._timeoutMs = options.timeoutMs || options.timeoutMS || DEFAULT_TIMEOUT_MS;\n    this._httpAgent = this._url.protocol === 'https:' ? new _https2.default.Agent({\n      keepAlive: true\n    }) : new _http2.default.Agent({\n      keepAlive: true\n    });\n    this._maxSpanBatchSize = options.maxSpanBatchSize || DEFAULT_MAX_SPAN_BATCH_SIZE;\n    this._logger = options.logger || new _logger2.default();\n    this._jaegerThrift = new _thriftrw.Thrift({\n      source: _thrift2.default.loadJaegerThriftDefinition(),\n      allowOptionalArguments: true\n    });\n    this._httpOptions = {\n      protocol: this._url.protocol,\n      hostname: this._url.hostname,\n      port: this._url.port,\n      path: this._url.pathname,\n      method: 'POST',\n      auth: this._username && this._password ? this._username + ':' + this._password : undefined,\n      headers: {\n        'Content-Type': 'application/x-thrift',\n        Connection: 'keep-alive'\n      },\n      agent: this._httpAgent,\n      timeout: this._timeoutMs\n    };\n  }\n  _createClass(HTTPSender, [{\n    key: 'setProcess',\n    value: function setProcess(process) {\n      // Go ahead and initialize the Thrift batch that we will reuse for each\n      // flush.\n      this._batch = new this._jaegerThrift.Batch({\n        process: _sender_utils2.default.convertProcessToThrift(this._jaegerThrift, process),\n        spans: []\n      });\n    }\n  }, {\n    key: 'append',\n    value: function append(span, callback) {\n      this._batch.spans.push(new this._jaegerThrift.Span(span));\n      if (this._batch.spans.length >= this._maxSpanBatchSize) {\n        this.flush(callback);\n        return;\n      }\n      _sender_utils2.default.invokeCallback(callback, 0);\n    }\n  }, {\n    key: 'flush',\n    value: function flush(callback) {\n      var _this = this;\n      var numSpans = this._batch.spans.length;\n      if (!numSpans) {\n        _sender_utils2.default.invokeCallback(callback, 0);\n        return;\n      }\n      var result = this._jaegerThrift.Batch.rw.toBuffer(this._batch);\n      this._reset(); // clear buffer for new spans, even if Thrift conversion fails\n\n      if (result.err) {\n        _sender_utils2.default.invokeCallback(callback, numSpans, 'Error encoding Thrift batch: ' + result.err);\n        return;\n      }\n      var requester = this._url.protocol === 'https:' ? _https2.default.request : _http2.default.request;\n      var req = requester(this._httpOptions, function (resp) {\n        // consume response data to free up memory\n        resp.resume();\n        var error = void 0;\n        if (resp.statusCode >= 400) {\n          error = 'error sending spans over HTTP: server responded with HTTP ' + resp.statusCode;\n          _this._logger.error(error);\n        }\n        _sender_utils2.default.invokeCallback(callback, numSpans, error);\n      });\n      req.on('error', function (err) {\n        var error = 'error sending spans over HTTP: ' + err;\n        _this._logger.error(error);\n        _sender_utils2.default.invokeCallback(callback, numSpans, error);\n      });\n      req.write(result.value);\n      req.end();\n    }\n  }, {\n    key: '_reset',\n    value: function _reset() {\n      this._batch.spans = [];\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      // Older node versions don't have this.\n      if (this._httpAgent.destroy) {\n        this._httpAgent.destroy();\n      }\n    }\n  }]);\n  return HTTPSender;\n}();\nexports.default = HTTPSender;","map":{"version":3,"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_fs","require","_fs2","_interopRequireDefault","_http","_http2","_https","_https2","_path","_path2","_url","URL","_interopRequireWildcard","_thriftrw","_logger","_logger2","_sender_utils","_sender_utils2","_thrift","_thrift2","obj","__esModule","newObj","hasOwnProperty","call","default","_classCallCheck","instance","TypeError","DEFAULT_PATH","DEFAULT_PORT","DEFAULT_TIMEOUT_MS","DEFAULT_MAX_SPAN_BATCH_SIZE","HTTPSender","options","arguments","undefined","parse","endpoint","_username","username","_password","password","_timeoutMs","timeoutMs","timeoutMS","_httpAgent","protocol","Agent","keepAlive","_maxSpanBatchSize","maxSpanBatchSize","logger","_jaegerThrift","Thrift","source","loadJaegerThriftDefinition","allowOptionalArguments","_httpOptions","hostname","port","path","pathname","method","auth","headers","Connection","agent","timeout","setProcess","process","_batch","Batch","convertProcessToThrift","spans","append","span","callback","push","Span","flush","invokeCallback","_this","numSpans","result","rw","toBuffer","_reset","err","requester","request","req","resp","resume","error","statusCode","on","write","end","close","destroy"],"sources":["/home/bvpelt/Develop/openteltest/node_modules/jaeger-client/dist/src/reporters/http_sender.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n// in compliance with the License. You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software distributed under the License\n// is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n// or implied. See the License for the specific language governing permissions and limitations under\n// the License.\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _https = require('https');\n\nvar _https2 = _interopRequireDefault(_https);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _url = require('url');\n\nvar URL = _interopRequireWildcard(_url);\n\nvar _thriftrw = require('thriftrw');\n\nvar _logger = require('../logger.js');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _sender_utils = require('./sender_utils.js');\n\nvar _sender_utils2 = _interopRequireDefault(_sender_utils);\n\nvar _thrift = require('../thrift.js');\n\nvar _thrift2 = _interopRequireDefault(_thrift);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_PATH = '/api/traces';\nvar DEFAULT_PORT = 14268;\nvar DEFAULT_TIMEOUT_MS = 5000;\nvar DEFAULT_MAX_SPAN_BATCH_SIZE = 100;\n\nvar HTTPSender = function () {\n  function HTTPSender() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, HTTPSender);\n\n    this._url = URL.parse(options.endpoint);\n    this._username = options.username;\n    this._password = options.password;\n    this._timeoutMs = options.timeoutMs || options.timeoutMS || DEFAULT_TIMEOUT_MS;\n    this._httpAgent = this._url.protocol === 'https:' ? new _https2.default.Agent({ keepAlive: true }) : new _http2.default.Agent({ keepAlive: true });\n\n    this._maxSpanBatchSize = options.maxSpanBatchSize || DEFAULT_MAX_SPAN_BATCH_SIZE;\n\n    this._logger = options.logger || new _logger2.default();\n    this._jaegerThrift = new _thriftrw.Thrift({\n      source: _thrift2.default.loadJaegerThriftDefinition(),\n      allowOptionalArguments: true\n    });\n\n    this._httpOptions = {\n      protocol: this._url.protocol,\n      hostname: this._url.hostname,\n      port: this._url.port,\n      path: this._url.pathname,\n      method: 'POST',\n      auth: this._username && this._password ? this._username + ':' + this._password : undefined,\n      headers: {\n        'Content-Type': 'application/x-thrift',\n        Connection: 'keep-alive'\n      },\n      agent: this._httpAgent,\n      timeout: this._timeoutMs\n    };\n  }\n\n  _createClass(HTTPSender, [{\n    key: 'setProcess',\n    value: function setProcess(process) {\n      // Go ahead and initialize the Thrift batch that we will reuse for each\n      // flush.\n      this._batch = new this._jaegerThrift.Batch({\n        process: _sender_utils2.default.convertProcessToThrift(this._jaegerThrift, process),\n        spans: []\n      });\n    }\n  }, {\n    key: 'append',\n    value: function append(span, callback) {\n      this._batch.spans.push(new this._jaegerThrift.Span(span));\n\n      if (this._batch.spans.length >= this._maxSpanBatchSize) {\n        this.flush(callback);\n        return;\n      }\n      _sender_utils2.default.invokeCallback(callback, 0);\n    }\n  }, {\n    key: 'flush',\n    value: function flush(callback) {\n      var _this = this;\n\n      var numSpans = this._batch.spans.length;\n      if (!numSpans) {\n        _sender_utils2.default.invokeCallback(callback, 0);\n        return;\n      }\n\n      var result = this._jaegerThrift.Batch.rw.toBuffer(this._batch);\n      this._reset(); // clear buffer for new spans, even if Thrift conversion fails\n\n      if (result.err) {\n        _sender_utils2.default.invokeCallback(callback, numSpans, 'Error encoding Thrift batch: ' + result.err);\n        return;\n      }\n\n      var requester = this._url.protocol === 'https:' ? _https2.default.request : _http2.default.request;\n\n      var req = requester(this._httpOptions, function (resp) {\n        // consume response data to free up memory\n        resp.resume();\n\n        var error = void 0;\n        if (resp.statusCode >= 400) {\n          error = 'error sending spans over HTTP: server responded with HTTP ' + resp.statusCode;\n          _this._logger.error(error);\n        }\n\n        _sender_utils2.default.invokeCallback(callback, numSpans, error);\n      });\n\n      req.on('error', function (err) {\n        var error = 'error sending spans over HTTP: ' + err;\n        _this._logger.error(error);\n        _sender_utils2.default.invokeCallback(callback, numSpans, error);\n      });\n      req.write(result.value);\n      req.end();\n    }\n  }, {\n    key: '_reset',\n    value: function _reset() {\n      this._batch.spans = [];\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      // Older node versions don't have this.\n      if (this._httpAgent.destroy) {\n        this._httpAgent.destroy();\n      }\n    }\n  }]);\n\n  return HTTPSender;\n}();\n\nexports.default = HTTPSender;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}