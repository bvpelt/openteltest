{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Index a collection of reported MockSpans in a way that's easy to run unit\n * test assertions against.\n */\nvar MockReport = /** @class */function () {\n  function MockReport(spans) {\n    var _this = this;\n    this.spans = spans;\n    this.spansByUUID = {};\n    this.spansByTag = {};\n    this.debugSpans = [];\n    this.unfinishedSpans = [];\n    spans.forEach(function (span) {\n      if (span._finishMs === 0) {\n        _this.unfinishedSpans.push(span);\n      }\n      _this.spansByUUID[span.uuid()] = span;\n      _this.debugSpans.push(span.debug());\n      var tags = span.tags();\n      Object.keys(tags).forEach(function (key) {\n        var val = tags[key];\n        _this.spansByTag[key] = _this.spansByTag[key] || {};\n        _this.spansByTag[key][val] = _this.spansByTag[key][val] || [];\n        _this.spansByTag[key][val].push(span);\n      });\n    });\n  }\n  MockReport.prototype.firstSpanWithTagValue = function (key, val) {\n    var m = this.spansByTag[key];\n    if (!m) {\n      return null;\n    }\n    var n = m[val];\n    if (!n) {\n      return null;\n    }\n    return n[0];\n  };\n  return MockReport;\n}();\nexports.MockReport = MockReport;\nexports.default = MockReport;","map":{"version":3,"names":["Object","defineProperty","exports","value","MockReport","spans","_this","spansByUUID","spansByTag","debugSpans","unfinishedSpans","forEach","span","_finishMs","push","uuid","debug","tags","keys","key","val","prototype","firstSpanWithTagValue","m","n","default"],"sources":["/home/bvpelt/Develop/openteltest/node_modules/opentracing/lib/mock_tracer/mock_report.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Index a collection of reported MockSpans in a way that's easy to run unit\n * test assertions against.\n */\nvar MockReport = /** @class */ (function () {\n    function MockReport(spans) {\n        var _this = this;\n        this.spans = spans;\n        this.spansByUUID = {};\n        this.spansByTag = {};\n        this.debugSpans = [];\n        this.unfinishedSpans = [];\n        spans.forEach(function (span) {\n            if (span._finishMs === 0) {\n                _this.unfinishedSpans.push(span);\n            }\n            _this.spansByUUID[span.uuid()] = span;\n            _this.debugSpans.push(span.debug());\n            var tags = span.tags();\n            Object.keys(tags).forEach(function (key) {\n                var val = tags[key];\n                _this.spansByTag[key] = _this.spansByTag[key] || {};\n                _this.spansByTag[key][val] = _this.spansByTag[key][val] || [];\n                _this.spansByTag[key][val].push(span);\n            });\n        });\n    }\n    MockReport.prototype.firstSpanWithTagValue = function (key, val) {\n        var m = this.spansByTag[key];\n        if (!m) {\n            return null;\n        }\n        var n = m[val];\n        if (!n) {\n            return null;\n        }\n        return n[0];\n    };\n    return MockReport;\n}());\nexports.MockReport = MockReport;\nexports.default = MockReport;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D;AACA;AACA;AACA;AACA,IAAIC,UAAU,GAAG,aAAe,YAAY;EACxC,SAASA,UAAUA,CAACC,KAAK,EAAE;IACvB,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAI,CAACD,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACE,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAACC,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,eAAe,GAAG,EAAE;IACzBL,KAAK,CAACM,OAAO,CAAC,UAAUC,IAAI,EAAE;MAC1B,IAAIA,IAAI,CAACC,SAAS,KAAK,CAAC,EAAE;QACtBP,KAAK,CAACI,eAAe,CAACI,IAAI,CAACF,IAAI,CAAC;MACpC;MACAN,KAAK,CAACC,WAAW,CAACK,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,GAAGH,IAAI;MACrCN,KAAK,CAACG,UAAU,CAACK,IAAI,CAACF,IAAI,CAACI,KAAK,CAAC,CAAC,CAAC;MACnC,IAAIC,IAAI,GAAGL,IAAI,CAACK,IAAI,CAAC,CAAC;MACtBjB,MAAM,CAACkB,IAAI,CAACD,IAAI,CAAC,CAACN,OAAO,CAAC,UAAUQ,GAAG,EAAE;QACrC,IAAIC,GAAG,GAAGH,IAAI,CAACE,GAAG,CAAC;QACnBb,KAAK,CAACE,UAAU,CAACW,GAAG,CAAC,GAAGb,KAAK,CAACE,UAAU,CAACW,GAAG,CAAC,IAAI,CAAC,CAAC;QACnDb,KAAK,CAACE,UAAU,CAACW,GAAG,CAAC,CAACC,GAAG,CAAC,GAAGd,KAAK,CAACE,UAAU,CAACW,GAAG,CAAC,CAACC,GAAG,CAAC,IAAI,EAAE;QAC7Dd,KAAK,CAACE,UAAU,CAACW,GAAG,CAAC,CAACC,GAAG,CAAC,CAACN,IAAI,CAACF,IAAI,CAAC;MACzC,CAAC,CAAC;IACN,CAAC,CAAC;EACN;EACAR,UAAU,CAACiB,SAAS,CAACC,qBAAqB,GAAG,UAAUH,GAAG,EAAEC,GAAG,EAAE;IAC7D,IAAIG,CAAC,GAAG,IAAI,CAACf,UAAU,CAACW,GAAG,CAAC;IAC5B,IAAI,CAACI,CAAC,EAAE;MACJ,OAAO,IAAI;IACf;IACA,IAAIC,CAAC,GAAGD,CAAC,CAACH,GAAG,CAAC;IACd,IAAI,CAACI,CAAC,EAAE;MACJ,OAAO,IAAI;IACf;IACA,OAAOA,CAAC,CAAC,CAAC,CAAC;EACf,CAAC;EACD,OAAOpB,UAAU;AACrB,CAAC,CAAC,CAAE;AACJF,OAAO,CAACE,UAAU,GAAGA,UAAU;AAC/BF,OAAO,CAACuB,OAAO,GAAGrB,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}